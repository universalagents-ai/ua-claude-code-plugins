---
name: prototype-mode
description: Enter safe prototyping mode for frontend-only development with mock data
allowed-tools:
  - Read
  - Write
  - Bash
  - Glob
  - Grep
---

# Enter Prototype Mode

Activate safe prototyping mode that restricts development to frontend-only code with mock data, blocking backend operations and external integrations.

## Instructions

When this command is invoked, perform the following steps in order:

### 1. Check Current Git Branch

Verify the current git branch to ensure we're not on main/master:

```bash
git branch --show-current
```

**If on main or master branch:**
- Automatically create a new prototyping branch
- Use branch name format: `prototyping-YYYY-MM-DD` (e.g., `prototyping-2024-12-05`)
- Checkout the new branch
- Inform user that a prototyping branch was created

**If on any other branch:**
- Confirm the branch name with user
- Proceed with current branch

### 2. Analyze Project Structure

Scan the project to identify:
- Framework type (Nuxt, Next.js, plain Vue, React)
- Existing directory structure
- Frontend directories (components/, pages/, layouts/, assets/)
- Backend directories (server/, api/, supabase/, database/)
- Mock data directories (mocks/, fixtures/, __mock__/)

Use Glob tool to scan directories:
```
Glob pattern: **/*/ (find all directories)
```

### 3. Determine Allowed and Blocked Directories

Based on project analysis, create lists:

**Allowed directories (frontend):**
- `components/`
- `pages/`
- `layouts/`
- `assets/`
- `styles/`
- `public/`
- `mocks/`
- `fixtures/`
- `__mock__/`
- Any other frontend-specific directories found

**Blocked directories (backend):**
- `server/`
- `api/`
- `supabase/`
- `database/`
- `.env` files
- `credentials.json`
- Any other backend/sensitive directories

**Framework-specific adjustments:**
- Nuxt: Allow `composables/`, block `server/`
- Next.js: Allow `app/`, `components/`, block `app/api/`
- Plain Vue: Allow `src/components/`, `src/views/`

### 4. Identify Allowed and Blocked MCPs

Create MCP lists:

**Allowed MCPs (design-focused):**
- figma
- playwright
- screenshot
- Any MCP with "design", "ui", or "visual" in name

**Blocked MCPs (data-focused):**
- supabase
- postgres
- postgresql
- mysql
- mongodb
- database
- api
- Any MCP with "db", "database", "api", or "backend" in name

### 5. Check shadcn-vue Installation

Verify shadcn-vue is installed and configured:

```bash
ls components/ui/
```

**If components/ui/ doesn't exist or is empty:**
- Inform user that shadcn-vue is not installed
- Ask if they want to install it now
- If yes: Run `npx shadcn-vue@latest init` and wait for user to complete setup
- If no: Note that shadcn-vue should be installed for optimal prototyping

### 6. Create Settings File

Create `.claude/prototyping-mode.local.md` with configuration:

```yaml
---
enabled: true
framework: [detected framework: nuxt, nextjs, vue, etc.]
branch: [current branch name]
activated: [current date/time in ISO format]
allowed_mcps:
  - figma
  - playwright
  - screenshot
blocked_mcps:
  - supabase
  - postgres
  - mysql
  - mongodb
  - database
allowed_directories:
  - [list of allowed directories from analysis]
blocked_directories:
  - [list of blocked directories from analysis]
---

# Prototyping Mode Active

**Status:** Enabled
**Branch:** [branch name]
**Framework:** [detected framework]
**Activated:** [date/time]

## Safety Boundaries

While in prototyping mode:

✅ **Allowed:**
- Modify frontend files in allowed directories
- Create/edit components, pages, layouts
- Use mock data exclusively
- Access design-focused MCPs (Figma, Playwright)
- Install UI libraries and components
- Use shadcn/ui for rapid prototyping

❌ **Blocked:**
- Modify backend files (server/, api/)
- Access databases or external APIs
- Edit sensitive files (.env, credentials)
- Use data-focused MCPs
- Real data operations

## Configuration

To modify these settings:
1. Exit prototype mode: `/exit-prototype`
2. Manually edit this file
3. Re-enter prototype mode: `/prototype-mode`

**Warning:** Do NOT edit this file while prototype mode is active. Settings are enforced by hooks.

## Notes

[Add any project-specific notes here]
```

### 7. Confirm Activation

Inform the user with a summary:

```
✅ Prototype Mode Activated

Branch: [branch name]
Framework: [framework]

Allowed Directories:
- [list allowed directories]

Blocked Directories:
- [list blocked directories]

Allowed MCPs: [list]
Blocked MCPs: [list]

shadcn-vue: [Installed / Not installed - please install]

You can now safely prototype frontend features with mock data.
The safety hook will block any attempts to modify backend files or access real data.

Next steps:
- Use /prototype-feature to build a guided feature
- Design user journeys and interfaces
- Work naturally with Claude to build UIs

To exit: /exit-prototype
```

## Important Notes

- **Write FOR Claude**: These instructions are for Claude to execute, not for the user
- **Check dependencies**: Verify git, Node.js are available
- **Error handling**: If git branch check fails, inform user and ask how to proceed
- **User confirmation**: Ask user to confirm branch if not on main/master
- **Settings location**: Always use `.claude/prototyping-mode.local.md`
- **No assumptions**: Ask user if uncertain about project structure

## Error Scenarios

**Git not initialized:**
- Inform user that git is not initialized
- Ask if they want to initialize git repository
- If yes, run `git init` and create prototyping branch

**Unable to create .claude/ directory:**
- Try creating in project root
- If fails, inform user and ask for alternative location

**Permissions issues:**
- Inform user about permission error
- Suggest running with appropriate permissions
- Continue without creating files if necessary
